{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/pages/user/address/form.vue?6ed5","webpack:///./src/pages/user/address/form.vue?84fe","webpack:///./src/pages/user/address/form.vue?0f4e","webpack:///./src/pages/user/address/form.vue?27da","webpack:///./src/pages/user/address/form.vue","webpack:///./src/pages/user/address/form.vue?c739","webpack:///./src/pages/user/address/form.vue?c751"],"names":["createPage","Page","components","EvanForm","EvanFormItem","pickRegions","data","regions","defaultRegions","hideRequiredAsterisk","isCanCheck","sexes","name","value","info","id","contact","mobile","postal_code","province","city","area","address","is_default","sex","rules","required","message","validator","rule","callback","length","onLoad","opt","api_316","computed","regionsName","map","item","join","mounted","$refs","form","setRules","methods","handleGetRegions","that","api","post","getSign","ID","app","res","Basis","State","state","state_200","Result","api_309","regionList","uni","navigateTo","url","showToast","title","Msg","duration","save","is_check","s","validate","appG","verifyStr","isPhone","icon","sexChange","e","detail","checkDefault","val"],"mappings":"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","file":"pages/user/address/form.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/user/address/form.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./form.vue?vue&type=template&id=0ee1db22&\"\nvar renderjs\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./form.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/pages/user/address/form.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form.vue?vue&type=template&id=0ee1db22&\"","var components = {\n  \"evan-form\": function() {\n    return import(/* webpackChunkName: \"components/evan-form/evan-form\" */ \"@/components/evan-form/evan-form.vue\")\n  },\n  \"pick-regions\": function() {\n    return import(/* webpackChunkName: \"components/pick-regions/pick-regions\" */ \"@/components/pick-regions/pick-regions.vue\")\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport api from '@/modules/api'\nimport appG from '@/modules/appGlobal'\nimport user from '@/modules/userInfo'\n\nimport EvanForm from \"@/components/evan-form/evan-form.vue\";\nimport EvanFormItem from \"@/components/evan-form/evan-form-item.vue\";\nimport utils from \"@/components/evan-form/utils.js\";\nimport pickRegions from \"@/components/pick-regions/pick-regions.vue\";\nexport default {\n  components: {\n    EvanForm,\n    EvanFormItem,\n    pickRegions\n  },\n  data() {\n    return {\n      regions: [],\n      defaultRegions: [\"广东省\", \"广州市\", \"番禺区\"],\n      hideRequiredAsterisk: true,\n      //如果是默认，则不能选中\n      isCanCheck: false,\n      sexes: [\n        {\n          name: \"男\",\n          value: \"man\"\n        },\n        {\n          name: \"女\",\n          value: \"woman\"\n        }\n      ],\n      //表单的内容\n      info: {\n        id: 0,\n        contact: \"\",\n        mobile: \"\",\n        postal_code: \"\",\n        province: \"\",\n        city: \"\",\n        area: \"\",\n        address: \"\",\n        is_default: false,\n        sex: 0\n      },\n      rules: {\n        contact: {\n          required: true,\n          message: \"请输入姓名\"\n        },\n        regions:\n        {\n          required: true,\n          message: \"请输选择省市区\",\n          validator: (rule, value, callback) => {\n            if (this.regions.length) {\n              callback()\n            }\n          }\n        },\n        address: {\n          required: true,\n          message: \"请选输入详细地址\"\n        }\n      }\n    };\n  },\n  onLoad(opt) {\n    if (opt.id) {\n      this.api_316(opt.id)\n\n    }\n  },\n  computed: {\n    regionsName() {\n      // 转为字符串\n      return this.regions.map(item => item.name).join(\" \");\n    }\n  },\n  mounted() {\n    // 这里必须放在mounted中，不然h5，支付宝小程序等会找不到this.$refs.form\n    this.$refs.form.setRules(this.rules);\n  },\n  methods: {\n    // 获取选择的地区\n    handleGetRegions(regions) {\n      this.regions = regions\n    },\n    /**\n     * 根据ID获取收货地址\n     */\n    api_316: function (id) {\n      let that = this\n      api.post(api.api_316, api.getSign({ ID: id }),\n        function (app, res) {\n          if (res.data.Basis.State == api.state.state_200) {\n            that.info = res.data.Result\n            //设置省 市 区\n            that.defaultRegions = [res.data.Result.province, res.data.Result.city, res.data.Result.area]\n            that.regions = [{ name: res.data.Result.province }, { name: res.data.Result.city }, { name: res.data.Result.area }]\n            that.isCanCheck = that.info.is_default\n          }\n        })\n    },\n    /**\n     * 保存收货地址\n     */\n    api_309: function () {\n      let that = this\n      let regionList = that.regions\n      that.info.province = regionList[0].name\n      that.info.city = regionList[1].name\n      that.info.area = regionList[2].name\n\n      api.post(api.api_309,\n        api.getSign(that.info),\n        function (app, res) {\n          if (res.data.Basis.State == api.state.state_200) {\n            uni.navigateTo({\n              url: 'manage'\n            })\n          } else {\n            uni.showToast({ title: res.data.Basis.Msg, duration: 2000 })\n          }\n        })\n    },\n    /**\n     * 保存收货地址\n     */\n    save() {\n      let that = this\n      let is_check = false\n      let s = this.$refs.form.validate(res => {\n        if (res) {\n\n          if (!appG.verifyStr.isPhone(this.info.mobile)) {\n            uni.showToast({\n              title: '手机号码输入有误',\n              icon: 'none'\n            })\n            return\n          }\n\n          //保存收货地址\n          that.api_309()\n        }\n      })\n    },\n    /**\n     * 修改性别\n     */\n    sexChange(e) {\n      this.info.sex = e.detail.value\n    },\n    /**\n     * 设置默认收货地址\n     */\n    checkDefault(val) {\n      this.info.is_default = !val\n    }\n\n  }\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589638196003\n      var cssReload = require(\"/Users/zhaixiaofang/Documents/weifos/youyi/20200516/youyi/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}