{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/pages/category/index.vue?e6ce","webpack:///./src/pages/category/index.vue?2a16","webpack:///./src/pages/category/index.vue?e363","webpack:///./src/pages/category/index.vue?ec23","webpack:///./src/pages/category/index.vue","webpack:///./src/pages/category/index.vue?715b","webpack:///./src/pages/category/index.vue?c10c"],"names":["createPage","Page","data","title","isInit","scrollTop","pageSize","curIndex","cateInfo","components","searchBar","filter","onLoad","api_201","methods","onCateItemClick","index","catg","firstLoad","api_202","that","api","post","getSign","Size","vue","res","Basis","State","state","state_200","Result","catgs","forEach","item","pageIndex","list","loading","loadComplete","totalPage","parseInt","totalRow","productList","item1","index1","id","gcatg_id","push","Index","CatgID","goDetails","uni","navigateTo","url","scroll","e","detail","scrollHeight"],"mappings":"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","file":"pages/category/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/category/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6ffc6f85&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/pages/category/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6ffc6f85&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/modules/api'\nimport appG from '@/modules/appGlobal'\nimport searchBar from \"@/components/yoyi-search-bar\"\nimport filter from \"@/components/yoyi-filter\"\nexport default {\n  data() {\n    return {\n      title: '分类',\n      //是否初始化\n      isInit: true,\n      //滚动高度\n      scrollTop: 0,\n      //每页大小\n      pageSize: 6,\n      //当前类别索引\n      curIndex: 0,\n      //类别集合\n      cateInfo: []\n      //    name: \"\",\n      //   loading: false,\n      //   firstLoad: true,\n      //   loadComplete: false,\n      //   pageIndex: 0,\n      //   totalPage: 0,\n      //   list: []\n    }\n  },\n  components: {\n    searchBar,\n    filter\n  },\n  onLoad() {\n    this.api_201()\n  },\n  methods: {\n    onCateItemClick(index) {\n      this.curIndex = index\n      let catg = this.cateInfo[index]\n      if (!catg.firstLoad) {\n        this.api_202(catg)\n      }\n    },\n    //获取商品列表\n    api_201() {\n      let that = this\n      //请求数据\n      api.post(api.api_201, api.getSign({\n        Size: that.pageSize\n      }), function (vue, res) {\n        if (res.data.Basis.State == api.state.state_200) {\n          res.data.Result.catgs.forEach(function (item, index) {\n            if (index == 0) {\n              item.pageIndex = 1\n              item.firstLoad = false\n            } else {\n              item.pageIndex = 0\n              item.firstLoad = true\n            }\n\n            item.list = []\n            item.loading = false\n            item.loadComplete = false\n            item.totalPage = parseInt(item.totalRow / that.pageSize) + (item.totalRow % that.pageSize == 0 ? 0 : 1)\n            res.data.Result.productList.forEach(function (item1, index1) {\n              if (item.id == item1.gcatg_id) {\n                item.list.push(item1)\n              }\n            })\n          })\n\n          that.cateInfo = res.data.Result.catgs\n        }\n      })\n    },\n    //获取商品列表\n    api_202(catg) {\n      let that = this\n      //设置加载中\n      catg.loading = true\n      //请求数据\n      api.post(api.api_202, api.getSign({\n        Size: catg.pageSize,\n        Index: catg.pageIndex,\n        CatgID: catg.id\n      }), function (vue, res) {\n        if (res.data.Basis.State == api.state.state_200) {\n          //页面加一\n          catg.pageIndex++\n          //加载完成\n          catg.loading = false\n          //总页数\n          catg.totalPage = parseInt(item.totalRow / that.pageSize) + (item.totalRow % that.pageSize == 0 ? 0 : 1)\n          //达到总页数\n          if (catg.pageIndex >= catg.totalPage) {\n            catg.loadComplete = true\n          }\n          res.data.Result.productList.forEach(function (item, index) {\n            if (catg.id == item.gcatg_id) {\n              catg.list.push(item)\n            }\n          })\n        }\n      })\n    },\n    //查询详情\n    goDetails(item) {\n      uni.navigateTo({\n        url: 'details?id=' + item.id\n      })\n    },\n    //局部上拉滚动\n    scroll(e) {\n      let that = this\n      //下拉\n      if (e.detail.scrollTop < this.scrollTop) {\n        //当前加载数据的分类\n        let catg = this.cateInfo[this.curIndex]\n        //下拉到指定位置\n        if (e.detail.scrollTop - e.detail.scrollHeight > -430) {\n          that.api_202(catg)\n        }\n      }\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589638196204\n      var cssReload = require(\"/Users/zhaixiaofang/Documents/weifos/youyi/20200516/youyi/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}