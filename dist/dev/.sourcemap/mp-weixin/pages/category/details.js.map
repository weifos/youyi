{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/pages/category/details.vue?c61a","webpack:///./src/pages/category/details.vue?d697","webpack:///./src/pages/category/details.vue?9515","webpack:///./src/pages/category/details.vue?d2fc","webpack:///./src/pages/category/details.vue","webpack:///./src/pages/category/details.vue?d248","webpack:///./src/pages/category/details.vue?e448"],"names":["createPage","Page","data","imgUrl","isShow","isCanSubmit","store_id","isAddToCart","showDialog","buyCount","selectSku","unitPrice","totalPrice","pResult","product","name","skus","imgs","collected","discountInfo","type","coverUrl","components","uniPopup","uniNumberBox","operationButton","filters","getCustomName","specCustoms","name_id","val_id","val","custom_name","forEach","item","index","specname_id","specvalue_id","custom_value","props","show","Boolean","default","watch","newData","oldData","onLoad","opt","api_203","id","methods","onClickCollect","popupOpen","length","$refs","popup","open","uni","showToast","title","duration","icon","closePopup","close","change","value","check","that","is_enable","i","specNames","findIndex","specValues","map","obj","arr","checked","getSelectSkuVal","clearSpecNames","filter","bindSKU","spec_name_id","specVal","checkedVal","join","stock_num","exist","pass","split","arr1","specset","o","oo","ii","undefined","items","is_open_spec","sku_id","appG","util","compareSku","checkUpdate","submit","tmp","product_id","count","user","setShoppingCart","setBuyNow","navigateTo","url","sale_price","$emit","add","sub","handleInput","validateNumber","e","detail","replace","init","api","post","getSign","ID","vue","res","Basis","State","state","state_200","Result","$set","one_name_id","sku","Msg","api_314","app","wx","switchTab"],"mappings":"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","file":"pages/category/details.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/category/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=4f4db396&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/pages/category/details.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=template&id=4f4db396&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.pResult.specNames, function(item, index) {\n    var l0 = _vm.__map(_vm.pResult.specValues, function(citem, index) {\n      var f0 = _vm._f(\"getCustomName\")(\n        _vm.pResult.specCustoms,\n        item.id,\n        citem.id,\n        citem.val\n      )\n\n      return {\n        $orig: _vm.__get_orig(citem),\n        f0: f0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/modules/api'\nimport user from '@/modules/userInfo'\nimport appG from '@/modules/appGlobal'\nimport { uniPopup, uniNumberBox } from \"@dcloudio/uni-ui\"\nimport operationButton from '@/components/yoyi-operation-button/'\n\nexport default {\n  data() {\n    return {\n      imgUrl: '',\n      isShow: false,\n      //是否能够购买\n      isCanSubmit: false,\n      store_id: 0,\n      //是否加入购物车\n      isAddToCart: false,\n      //显示sku模态框\n      showDialog: false,\n      //购买数量\n      buyCount: 1,\n      //选择的sku\n      selectSku: null,\n      //单价\n      unitPrice: 0,\n      //总计\n      totalPrice: 0,\n      //商品详情\n      pResult: {\n        product: { name: '' },\n        skus: [],\n        imgs: []\n      },\n      //是否收藏\n      collected: false,\n      discountInfo: [{\n        type: \"优惠购\",\n        name: \"现在购买享受 ¥ 27.50，限购10件…\"\n      }\n      ],\n      //小图封面\n      coverUrl: ''\n    }\n  },\n  components: {\n    uniPopup,\n    uniNumberBox,\n    operationButton\n  },\n  filters: {\n    getCustomName: function (specCustoms, name_id, val_id, val) {\n      var custom_name = val\n      specCustoms.forEach(function (item, index) {\n        if (\n          name_id == item.specname_id &&\n          val_id == item.specvalue_id &&\n          item.custom_value != ''\n        ) {\n          custom_name = item.custom_value\n          return\n        }\n      })\n      return custom_name\n    }\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    show: function (newData, oldData) {\n      this.isShow = newData\n    }\n  },\n  onLoad(opt) {\n    this.api_203(opt.id)\n  },\n  methods: {\n    onClickCollect() {\n      this.collected = true;\n    },\n    //购买或加入购物车\n    popupOpen(isAddToCart) {\n      this.isAddToCart = isAddToCart\n      if (this.pResult.skus.length > 0) {\n        this.$refs.popup.open()\n      } else {\n        uni.showToast({ title: '库存不足', duration: 2000, icon: 'none' })\n      }\n    },\n    closePopup() {\n      this.$refs.popup.close()\n    },\n    change(value) {\n      this.buyCount = value;\n    },\n    //规格选中事件\n    check(item) {\n      let that = this\n      //是否可用点击\n      if (!item.is_enable) return\n      //当前索引      \n      var i = that.pResult.specNames.findIndex((val) => val.id == item.specname_id)\n      //设置点击状态\n      that.pResult.specValues.map((obj, index, arr) => {\n        if (obj.specname_id == item.specname_id) {\n          obj.checked = false\n          if (item.id == obj.id) {\n            obj.checked = true\n          }\n        }\n      })\n\n      //判断下一行索引是否大于数组总长度 \n      if (i + 1 > that.pResult.specNames.length - 1) {\n        //全部选中\n        that.getSelectSkuVal()\n      } else {\n        //清除未选择的状态\n        let clearSpecNames = that.pResult.specNames.filter((val, index) => index > i)\n        clearSpecNames.forEach(function (item, index) {\n          that.pResult.specValues.map(function (obj, i) {\n            if (obj.specname_id == item.id) {\n              obj.checked = false\n              obj.is_enable = false\n            }\n          })\n        })\n\n        //绑定下一行\n        that.bindSKU(that.pResult.specNames[i + 1].id, item)\n      }\n    },\n    //绑定每行sku状态\n    bindSKU(spec_name_id, specVal) {\n      //SKU集合\n      let skus = this.pResult.skus\n      let checkedVal = this.pResult.specValues.filter(val => val.checked).map(item => item.specname_id + \"_\" + item.id).join(',')\n      //处理规格值\n      this.pResult.specValues.filter(val => val.specname_id == spec_name_id).map((obj, index) => {\n        //在sku集合里面获取首行可点的规格\n        skus.forEach(function (item, index) {\n          if (item.stock_num <= 0) {\n            obj.is_enable = false\n            return\n          }\n          let exist = 0\n          let pass = false\n          let arr = checkedVal.split(',')\n          let arr1 = item.specset.split(',')\n          arr.forEach(function (o, i) {\n            arr1.forEach(function (oo, ii) {\n              if (oo == o) {\n                exist++\n              }\n            })\n          })\n\n          //是否是第一次加载\n          if (checkedVal.length) {\n            pass = exist == arr.length\n          } else {\n            pass = true\n          }\n\n          item.specset.split(',').forEach(function (o, i) {\n            if (pass && o.split('_')[0] == spec_name_id && obj.specname_id + \"_\" + obj.id == o) {\n              obj.is_enable = true\n              return\n            }\n          })\n        })\n\n        if (specVal != undefined && specVal.id == obj.id) {\n          obj.checked = true\n        }\n      })\n    },\n    //获取选中完成的sku\n    getSelectSkuVal() {\n      let that = this\n      let items = that.pResult.specValues.filter(val => val.checked == true)\n      if (items.length < that.pResult.specNames.length) {\n        let name = that.pResult.specNames[items.length].name\n        uni.showToast({ title: \"请选择\" + name, duration: 2000 })\n        return null\n      }\n\n      let data = null\n      if (that.pResult.product.is_open_spec) {\n        //获取选中数据\n        let sku_id = items.map(item => item.specname_id + \"_\" + item.id).join(',')\n        //在当前sku集合中获取\n        that.pResult.skus.forEach(function (item, index) {\n          if (appG.util.compareSku(sku_id, item.specset)) {\n            data = item\n            return\n          }\n        })\n      } else {\n        data = that.selectSku\n      }\n\n      that.selectSku = data\n      that.checkUpdate()\n      return data\n    },\n    //提交\n    submit() {\n      this.$refs.popup.close()\n      //初始化是否能够提交\n      if (!this.isCanSubmit) return\n      //选中的商品SKU\n      let tmp = this.getSelectSkuVal()\n\n      if (tmp != null) {\n        //门店商品ID\n        //tmp.sto_product_id = this.selectSku.product.id\n        //平台商品ID\n        tmp.product_id = this.selectSku.product_id\n        //加入购物车的数量\n        tmp.count = this.buyCount\n        //加入购物车\n        if (this.isAddToCart) {\n          user.methods.setShoppingCart(tmp)\n        } else {\n          //加入本地存取立即购买\n          user.methods.setBuyNow(tmp)\n          uni.navigateTo({\n            url: '/pages/user/confirm-order'\n          })\n        }\n\n      }\n    },\n    //关闭当前页\n    close() {\n      this.selectSku.specset = ''\n      this.selectSku.sale_price = 0\n      this.selectSku.product_id = 0\n      this.$emit('cancelSKU')\n    },\n    //加\n    add() {\n      if (this.buyCount >= 99) return\n      this.buyCount = this.buyCount + 1\n      this.checkUpdate()\n    },\n    //减\n    sub() {\n      if (this.buyCount <= 1) return\n      this.buyCount = this.buyCount - 1\n      this.checkUpdate()\n    },\n    //勾选改变更新小计\n    checkUpdate() {\n      this.unitPrice = this.selectSku.sale_price\n      //设置总计\n      this.totalPrice = this.selectSku.sale_price * this.buyCount\n    },\n    //处理输入方式\n    handleInput() {\n      let value = this.validateNumber(e.detail.value)\n      val.replace(/\\D/g, '')\n    },\n    //初始化\n    init: function () {\n\n    },\n    /**\n     * 加载商品详情\n     */\n    api_203(id) {\n      let that = this\n      api.post(api.api_203, api.getSign({\n        ID: id\n      }), function (vue, res) {\n        if (res.data.Basis.State == api.state.state_200) {\n          res.data.Result.specValues.forEach((obj, i) => {\n            that.$set(obj, \"checked\", false)\n            that.$set(obj, \"is_enable\", false)\n          })\n\n          that.pResult = res.data.Result\n\n          if (that.pResult.product.is_open_spec) {\n            if (that.pResult.specNames.length == 0) return\n            that.totalPrice = 0\n            //获购买数量\n            that.buyCount = 1\n            //获取首行规格名称id\n            let one_name_id = that.pResult.specNames[0].id\n            //绑定首行状态\n            that.bindSKU(one_name_id)\n          } else {\n            if (that.pResult.skus[0] != undefined) {\n              that.selectSku = that.pResult.skus[0]\n              that.totalPrice = that.selectSku.sale_price\n              that.checkUpdate()\n            }\n          }\n\n          that.isCanSubmit = that.pResult.skus.filter(sku => sku.is_enable).length > 0\n\n        } else {\n          uni.showToast({ title: res.data.Msg, duration: 2000 })\n        }\n      })\n    },\n\n    /**\n     * 提交订单\n     */\n    api_314: function () {\n      var that = this;\n      api.post(api.api_314, api.getSign({}), function (app, res) {\n        if (res.data.Basis.State != api.state.state_200) {\n          wx.showToast({\n            title: res.data.Basis.Msg,\n            icon: 'none',\n            duration: 3000\n          })\n        } else {\n\n        }\n      })\n    },\n    /**\n     * 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面\n     */\n    switchTab(url) {\n      //重新跳转到用户中心 \n      uni.switchTab({\n        url: url\n      })\n    },\n    /**\n     * 保留当前页面，跳转到应用内的某个页面\n     */\n    navigateTo(url) {\n      uni.navigateTo({\n        url\n      })\n    }\n\n  }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589638196443\n      var cssReload = require(\"/Users/zhaixiaofang/Documents/weifos/youyi/20200516/youyi/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}